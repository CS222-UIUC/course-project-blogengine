{"ast":null,"code":"import _defineProperty from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import DOMPurify from'dompurify';import{Renderer,parse}from'marked';import'./Blog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Blog(){console.log('in in blog');var _useState=useState({title:'',content:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setInput(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},_defineProperty({},name,value));});};var handleClick=function handleClick(e){e.preventDefault();console.log(input);};var customRenderer=new Renderer();customRenderer.image=function(href,title,text){var match=text.match(/(?<=\\|)\\s*(\\d+)\\s+(\\d+)/);var match1=text.match(/(?<=\\|)\\s*(?:0*\\.)?\\d+(?:\\.\\d+)?/);// /^\\d+(\\.\\d+)?$/ /(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/\nif(match){var width=match[1]+'px';var height=match[2]+'px';text=text.replace(\"|\"+match[0],'').trim();var style=\"width: \".concat(width,\"; height: \").concat(height,\";\");return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\" style=\\\"\").concat(style,\"\\\">\");}else if(match1){var img=new Image();img.src=href;console.log(match1);var origWidth=img.naturalWidth;var origHeight=img.naturalHeight;var scale=match1[0];var newWidth=origWidth*scale;var newHeight=origHeight*scale;text=text.replace(\"|\"+match1[0],'').trim();var _style=\"width: \".concat(newWidth,\"px; height: \").concat(newHeight,\"px;\");img.remove();return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\" style=\\\"\").concat(_style,\"\\\">\");}else{console.log(\"IM HERE\");return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\">\");}};var renderText=function renderText(content){var html=parse(content,{renderer:customRenderer});var sanitizedHtml=DOMPurify.sanitize(html);return{__html:sanitizedHtml};};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Blog\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"/blog\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"title\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"small\",{id:\"titleHelp\",className:\"form-text text-muted\",children:\"super cool title that draws people in.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"d-flex flex-row\",children:\"Your Post\"}),/*#__PURE__*/_jsx(\"label\",{className:\"d-flex flex-row-reverse\",children:\"Preview\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"20\",placeholder:\"Let the ink flow!\",onChange:handleChange,value:input.content})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:renderText(input.content)})})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Post\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:\"20px\"},children:[\"Having trouble coming up with post ideas?\\xA0\",/*#__PURE__*/_jsx(\"a\",{href:\"https://coschedule.com/blog/creative-blog-post-ideas-and-topics\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Click here\"}),\"\\xA0to get your creative juices flowing!\"]})]});}","map":{"version":3,"names":["React","useState","DOMPurify","Renderer","parse","jsx","_jsx","jsxs","_jsxs","Blog","console","log","_useState","title","content","_useState2","_slicedToArray","input","setInput","handleChange","event","_event$target","target","name","value","prevInput","_objectSpread","_defineProperty","handleClick","e","preventDefault","customRenderer","image","href","text","match","match1","width","height","replace","trim","style","concat","img","Image","src","origWidth","naturalWidth","origHeight","naturalHeight","scale","newWidth","newHeight","remove","renderText","html","renderer","sanitizedHtml","sanitize","__html","children","method","action","className","placeholder","onChange","id","rows","dangerouslySetInnerHTML","marginTop","rel"],"sources":["/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/src/Blog.js"],"sourcesContent":["import React, { useState } from 'react';\nimport DOMPurify from 'dompurify';\nimport { Renderer, parse } from 'marked';\nimport './Blog.css';\n\nexport default function Blog() {\n  console.log('in in blog');\n\n  const [input, setInput] = useState({\n    title: '',\n    content: '',\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setInput((prevInput) => {\n      return {\n        ...prevInput,\n        [name]: value,\n      };\n    });\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n\n    console.log(input);\n  };\n\n  const customRenderer = new Renderer();\n  customRenderer.image = function(href, title, text) {\n    const match = text.match(/(?<=\\|)\\s*(\\d+)\\s+(\\d+)/);\n    const match1 = text.match(/(?<=\\|)\\s*(?:0*\\.)?\\d+(?:\\.\\d+)?/); // /^\\d+(\\.\\d+)?$/ /(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/\n    if (match) {\n      const width = match[1] + 'px';\n      const height = match[2] + 'px';\n      text = text.replace(\"|\" + match[0], '').trim();\n      const style = `width: ${width}; height: ${height};`;\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\" style=\"${style}\">`;\n    } else if (match1) {\n      const img = new Image();\n      img.src = href;\n      console.log(match1);\n      const origWidth = img.naturalWidth;\n      const origHeight = img.naturalHeight;\n\n      const scale = match1[0];\n      const newWidth = origWidth * scale;\n      const newHeight = origHeight * scale;\n      text = text.replace(\"|\" + match1[0], '').trim();\n      const style = `width: ${newWidth}px; height: ${newHeight}px;`;\n\n      img.remove();\n\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\" style=\"${style}\">`;\n    } else {\n      console.log(\"IM HERE\");\n\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\">`;\n    }\n  };\n\n  const renderText = (content) => {\n    const html = parse(content, {renderer: customRenderer});\n    const sanitizedHtml = DOMPurify.sanitize(html);\n    return { __html: sanitizedHtml };\n  };\n\n  return (\n    <div>\n        <h1>Blog</h1>\n\n        <form method=\"post\" action=\"/blog\">\n            <div className=\"form-group\">\n                <label>Title</label>\n                <input\n                    className=\"form-control\"\n                    name=\"title\"\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter title\"\n                    onChange={handleChange}\n                />\n                <small id=\"titleHelp\" className=\"form-text text-muted\">\n                    super cool title that draws people in.\n                </small>\n            </div>\n            <div className=\"form-group\">\n                {/* <label>Your Post</label> */}\n                <div className=\"d-flex align-items-center justify-content-between\">\n                    <label className=\"d-flex flex-row\">Your Post</label>\n                    <label className=\"d-flex flex-row-reverse\">Preview</label>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <textarea\n                            name=\"content\"\n                            className=\"form-control\"\n                            id=\"exampleFormControlTextarea1\"\n                            rows=\"20\"\n                            placeholder=\"Let the ink flow!\"\n                            onChange={handleChange}\n                            value={input.content}\n                        ></textarea>\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <div dangerouslySetInnerHTML={renderText(input.content)}></div>\n                    </div>\n                </div>\n            </div>\n\n            <button className=\"btn btn-primary\">Post</button>\n        </form>\n \n      {/* <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n        <img\n          src=\"https://img.freepik.com/premium-photo/creative-mind-3d-illustration-with-light-bulb-generative-ai_549702-684.jpg\"\n          alt=\"left-image\"\n          style={{ width: \"40%\", height: \"auto\", objectFit: \"cover\", marginRight: \"20px\" }}\n        />\n        <img\n          src=\"https://www.success.com/wp-content/uploads/2016/07/waystotapintoyourcreativeself.jpg\"\n          alt=\"right-image\"\n          style={{ width: \"40%\", height: \"auto\", objectFit: \"cover\", marginLeft: \"20px\" }}\n        />\n      </div> */}\n \n      <p style={{ marginTop: \"20px\" }}>\n        Having trouble coming up with post ideas?&nbsp;\n        <a href=\"https://coschedule.com/blog/creative-blog-post-ideas-and-topics\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Click here\n        </a>\n        &nbsp;to get your creative juices flowing!\n      </p>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}