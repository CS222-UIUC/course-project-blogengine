{"ast":null,"code":"import _slicedToArray from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import'./Posts.css';import{parse}from'marked';// import axios from \"axios\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";console.log(\"in posts\");export default function Posts(){console.log(\"in in posts\");var _useState=useState([{title:'',content:''}]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];useEffect(function(){fetch(\"/getposts\").then(function(res){if(res.ok){return res.json();}}).then(function(jsonRes){return setBlogs(jsonRes);});});// const postSlug = slugify(postTitle, {\n//     lower: true, // Convert to lowercase\n//     strict: true, // Replace special characters with dashes\n// });\nvar renderText=function renderText(content){var html=parse(content,{sanitize:true});html.length>100?html.substring(0,100)+\"...\":html;return{__html:html};};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{id:\"header\",children:\"Posts\"}),blogs.map(function(blog){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(blog.slug),className:\"nowrap-title\",children:blog.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"snippet\",children:[/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:renderText(blog.content)}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(blog.slug),className:\"nowrap-body\",children:[blog.content.length>100?\"Read more\":\"Go to post\",\" \"]})]})]});})]})// <div className='container'>\n//     <h1>Posts</h1>\n//         {blogs.map(blog => \n//             <div>\n//                 <h1>{blog.title}</h1>\n//                 <p>{blog.content}</p>\n//                 <Link to={`/posts/${blog.slug}`}>Read More</Link> {/* Use the Link component to link to the individual blog post page */}\n//             </div>\n//         )}\n// </div>\n;}// <Link to={`/posts/${blog.slug}`} className=\"nowrap-body\">\n// {blog.content.length > 100 ? \"Read more\" : \"Go to post\"}{\" \"}\n// {/* <i className=\"fas fa-arrow-circle-right\"></i> */}\n// </Link>","map":{"version":3,"names":["React","useState","useEffect","Link","parse","jsx","_jsx","jsxs","_jsxs","console","log","Posts","_useState","title","content","_useState2","_slicedToArray","blogs","setBlogs","fetch","then","res","ok","json","jsonRes","renderText","html","sanitize","length","substring","__html","children","id","map","blog","className","to","concat","slug","dangerouslySetInnerHTML"],"sources":["/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/src/Posts.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport './Posts.css';\nimport { parse } from 'marked';\n\n// import axios from \"axios\";\n\nconsole.log(\"in posts\");\n\nexport default function Posts() {\n    console.log(\"in in posts\");\n\n    const [blogs, setBlogs] = useState([{\n        title: '',\n        content: ''\n    }])\n\n    useEffect(() => {\n        fetch(\"/getposts\").then(res => {\n            if (res.ok) {\n                return res.json();\n            }\n        }).then(jsonRes => setBlogs(jsonRes));\n    })\n\n    // const postSlug = slugify(postTitle, {\n    //     lower: true, // Convert to lowercase\n    //     strict: true, // Replace special characters with dashes\n    // });\n\n    const renderText = (content) => {\n        const html = parse(content, { sanitize: true });\n        html.length > 100 ? html.substring(0, 100) + \"...\" : html;\n        return { __html: html };\n    };\n\n    return (\n        <div>\n            <h1 id='header'>Posts</h1>\n            {blogs.map(blog =>\n                <div className='card'>\n                    {/* <div className=\"container-sm\"> */}\n                        <h3>\n                            <Link to={`/posts/${blog.slug}`} className=\"nowrap-title\">\n                                {blog.title}\n                            </Link>\n                        </h3>\n                        <div className=\"snippet\">\n                            {/* <p dangerouslySetInnerHTML={{ __html: blog.body }}></p> */}\n                            {/* <p>{blog.content.length > 100 ? blog.content.substring(0, 100) + \"...\" : blog.content}</p> */}\n                            <p dangerouslySetInnerHTML={renderText(blog.content)}></p>\n                            <Link to={`/posts/${blog.slug}`} className=\"nowrap-body\">\n                                {blog.content.length > 100 ? \"Read more\" : \"Go to post\"}{\" \"}\n                            {/* <i className=\"fas fa-arrow-circle-right\"></i> */}\n                            </Link>\n                        </div>\n                    {/* </div> */}\n                </div>\n            )}\n        </div>\n        // <div className='container'>\n        //     <h1>Posts</h1>\n        //         {blogs.map(blog => \n        //             <div>\n        //                 <h1>{blog.title}</h1>\n        //                 <p>{blog.content}</p>\n        //                 <Link to={`/posts/${blog.slug}`}>Read More</Link> {/* Use the Link component to link to the individual blog post page */}\n        //             </div>\n        //         )}\n        // </div>\n    )\n}\n\n// <Link to={`/posts/${blog.slug}`} className=\"nowrap-body\">\n// {blog.content.length > 100 ? \"Read more\" : \"Go to post\"}{\" \"}\n// {/* <i className=\"fas fa-arrow-circle-right\"></i> */}\n// </Link>"],"mappings":"6JAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,aAAa,CACpB,OAASC,KAAK,KAAQ,QAAQ,CAE9B;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEAC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC,CAEvB,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC5BF,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAE1B,IAAAE,SAAA,CAA0BX,QAAQ,CAAC,CAAC,CAChCY,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EACb,CAAC,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAHIK,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAKtBb,SAAS,CAAC,UAAM,CACZiB,KAAK,CAAC,WAAW,CAAC,CAACC,IAAI,CAAC,SAAAC,GAAG,CAAI,CAC3B,GAAIA,GAAG,CAACC,EAAE,CAAE,CACR,MAAO,CAAAD,GAAG,CAACE,IAAI,EAAE,CACrB,CACJ,CAAC,CAAC,CAACH,IAAI,CAAC,SAAAI,OAAO,QAAI,CAAAN,QAAQ,CAACM,OAAO,CAAC,GAAC,CACzC,CAAC,CAAC,CAEF;AACA;AACA;AACA;AAEA,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIX,OAAO,CAAK,CAC5B,GAAM,CAAAY,IAAI,CAAGtB,KAAK,CAACU,OAAO,CAAE,CAAEa,QAAQ,CAAE,IAAK,CAAC,CAAC,CAC/CD,IAAI,CAACE,MAAM,CAAG,GAAG,CAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,CAAG,KAAK,CAAGH,IAAI,CACzD,MAAO,CAAEI,MAAM,CAAEJ,IAAK,CAAC,CAC3B,CAAC,CAED,mBACIlB,KAAA,QAAAuB,QAAA,eACIzB,IAAA,OAAI0B,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,EAAK,CACzBd,KAAK,CAACgB,GAAG,CAAC,SAAAC,IAAI,qBACX1B,KAAA,QAAK2B,SAAS,CAAC,MAAM,CAAAJ,QAAA,eAEbzB,IAAA,OAAAyB,QAAA,cACIzB,IAAA,CAACH,IAAI,EAACiC,EAAE,WAAAC,MAAA,CAAYH,IAAI,CAACI,IAAI,CAAG,CAACH,SAAS,CAAC,cAAc,CAAAJ,QAAA,CACpDG,IAAI,CAACrB,KAAK,EACR,EACN,cACLL,KAAA,QAAK2B,SAAS,CAAC,SAAS,CAAAJ,QAAA,eAGpBzB,IAAA,MAAGiC,uBAAuB,CAAEd,UAAU,CAACS,IAAI,CAACpB,OAAO,CAAE,EAAK,cAC1DN,KAAA,CAACL,IAAI,EAACiC,EAAE,WAAAC,MAAA,CAAYH,IAAI,CAACI,IAAI,CAAG,CAACH,SAAS,CAAC,aAAa,CAAAJ,QAAA,EACnDG,IAAI,CAACpB,OAAO,CAACc,MAAM,CAAG,GAAG,CAAG,WAAW,CAAG,YAAY,CAAE,GAAG,GAEzD,GACL,GAER,GACT,GAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,CAER,CAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}