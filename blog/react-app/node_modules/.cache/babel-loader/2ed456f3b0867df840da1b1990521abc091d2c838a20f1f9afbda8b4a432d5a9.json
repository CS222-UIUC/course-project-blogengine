{"ast":null,"code":"import _defineProperty from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import DOMPurify from'dompurify';import{Renderer,parse}from'marked';import'./Blog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Blog(){console.log('in in blog');var _useState=useState({title:'',content:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setInput(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},_defineProperty({},name,value));});};var handleClick=function handleClick(e){e.preventDefault();console.log(input);};var customRenderer=new Renderer();customRenderer.image=function(href,title,text){var match=text.match(/(\\d+)\\s+(\\d+)/);var match1=text.match(/(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/);// /^\\d+(\\.\\d+)?$/ /(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/\nif(match){var width=match[1]+'px';var height=match[2]+'px';var style=\"width: \".concat(width,\"; height: \").concat(height,\";\");return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\" style=\\\"\").concat(style,\"\\\">\");}else if(match1){var img=new Image();img.src=href;console.log(match1);var origWidth=img.naturalWidth;var origHeight=img.naturalHeight;var scale=match1[0];var newWidth=origWidth*scale;var newHeight=origHeight*scale;var _style=\"width: \".concat(newWidth,\"px; height: \").concat(newHeight,\"px;\");img.remove();return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\" style=\\\"\").concat(_style,\"\\\">\");}else{return\"<img src=\\\"\".concat(href,\"\\\" alt=\\\"\").concat(text,\"\\\" title=\\\"\").concat(title,\"\\\">\");}};var renderText=function renderText(content){var html=parse(content,{renderer:customRenderer});var sanitizedHtml=DOMPurify.sanitize(html);return{__html:sanitizedHtml};};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Blog\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"/blog\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"title\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"small\",{id:\"titleHelp\",className:\"form-text text-muted\",children:\"super cool title that draws people in.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"d-flex flex-row\",children:\"Your Post\"}),/*#__PURE__*/_jsx(\"label\",{className:\"d-flex flex-row-reverse\",children:\"Preview\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",className:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"20\",placeholder:\"Let the ink flow!\",onChange:handleChange,value:input.content})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:renderText(input.content)})})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Post\"})]})]});}","map":{"version":3,"names":["React","useState","DOMPurify","Renderer","parse","jsx","_jsx","jsxs","_jsxs","Blog","console","log","_useState","title","content","_useState2","_slicedToArray","input","setInput","handleChange","event","_event$target","target","name","value","prevInput","_objectSpread","_defineProperty","handleClick","e","preventDefault","customRenderer","image","href","text","match","match1","width","height","style","concat","img","Image","src","origWidth","naturalWidth","origHeight","naturalHeight","scale","newWidth","newHeight","remove","renderText","html","renderer","sanitizedHtml","sanitize","__html","children","method","action","className","placeholder","onChange","id","rows","dangerouslySetInnerHTML"],"sources":["/Users/Amy1/programFiles/cs222/course-project-blogengine/blog/react-app/src/Blog.js"],"sourcesContent":["import React, { useState } from 'react';\nimport DOMPurify from 'dompurify';\nimport { Renderer, parse } from 'marked';\nimport './Blog.css';\n\nexport default function Blog() {\n  console.log('in in blog');\n\n  const [input, setInput] = useState({\n    title: '',\n    content: '',\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setInput((prevInput) => {\n      return {\n        ...prevInput,\n        [name]: value,\n      };\n    });\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n\n    console.log(input);\n  };\n\n  const customRenderer = new Renderer();\n  customRenderer.image = function(href, title, text) {\n    const match = text.match(/(\\d+)\\s+(\\d+)/);\n    const match1 = text.match(/(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/); // /^\\d+(\\.\\d+)?$/ /(?<!\\d)0*(\\d*)(?:\\.(\\d+))?/\n    if (match) {\n      const width = match[1] + 'px';\n      const height = match[2] + 'px';\n      const style = `width: ${width}; height: ${height};`;\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\" style=\"${style}\">`;\n    } else if (match1) {\n      const img = new Image();\n      img.src = href;\n      console.log(match1);\n      const origWidth = img.naturalWidth;\n      const origHeight = img.naturalHeight;\n\n      const scale = match1[0];\n      const newWidth = origWidth * scale;\n      const newHeight = origHeight * scale;\n      const style = `width: ${newWidth}px; height: ${newHeight}px;`;\n\n      img.remove();\n\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\" style=\"${style}\">`;\n    } else {\n      return `<img src=\"${href}\" alt=\"${text}\" title=\"${title}\">`;\n    }\n  };\n\n  const renderText = (content) => {\n    const html = parse(content, {renderer: customRenderer});\n    const sanitizedHtml = DOMPurify.sanitize(html);\n    return { __html: sanitizedHtml };\n  };\n\n  return (\n    <div>\n        <h1>Blog</h1>\n\n        <form method=\"post\" action=\"/blog\">\n            <div className=\"form-group\">\n                <label>Title</label>\n                <input\n                    className=\"form-control\"\n                    name=\"title\"\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter title\"\n                    onChange={handleChange}\n                />\n                <small id=\"titleHelp\" className=\"form-text text-muted\">\n                    super cool title that draws people in.\n                </small>\n            </div>\n            <div className=\"form-group\">\n                {/* <label>Your Post</label> */}\n                <div className=\"d-flex align-items-center justify-content-between\">\n                    <label className=\"d-flex flex-row\">Your Post</label>\n                    <label className=\"d-flex flex-row-reverse\">Preview</label>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                        <textarea\n                            name=\"content\"\n                            className=\"form-control\"\n                            id=\"exampleFormControlTextarea1\"\n                            rows=\"20\"\n                            placeholder=\"Let the ink flow!\"\n                            onChange={handleChange}\n                            value={input.content}\n                        ></textarea>\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <div dangerouslySetInnerHTML={renderText(input.content)}></div>\n                    </div>\n                </div>\n            </div>\n\n            <button className=\"btn btn-primary\">Post</button>\n        </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}